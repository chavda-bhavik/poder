import{R as e,m as t,P as a,a as l,r,H as n,b as o}from"./vendor.db0a6a66.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var s="_loader_ljmw6_1";const i=()=>e.createElement("div",{className:s}),c=({onSearch:t})=>e.createElement("form",{method:"GET",onSubmit:t},e.createElement("div",{className:"flex-grow-0 relative bg-whiteGray rounded-t-md p-1 border-b-2 border-yellow-900 drop-shadow-sm"},e.createElement("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2"},e.createElement("button",{type:"submit",className:"p-1 focus:outline-none focus:shadow-outline text-gray-800"},e.createElement("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",className:"w-6 h-6"},e.createElement("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})))),e.createElement("input",{type:"search",name:"search",id:"search",autoComplete:"off",placeholder:"search podcasts, episodes, artists and more...",autoFocus:!0,className:"w-full pl-10 py-1 text-lg sm:text-base bg-transparent outline-none text-black"}))),d=({imageSrc:r,imageAlt:n,duration:o,date:s,title:i,id:c,selectedEpisodeId:d,onSelect:m,pause:u,playing:p,resume:f,index:g})=>{let b=e.createElement(a,{onClick:()=>m(c),className:"text-maroon w-10 inline"});return c===d&&(b=p?e.createElement(l,{onClick:()=>u(),className:"text-red-500 w-10 inline"}):e.createElement(a,{onClick:()=>f(),className:"text-maroon w-10 inline"})),e.createElement(t.div,{initial:"hidden",animate:"visible",exit:"end",className:"w-full p-2 relative",transition:{delay:.2*g},variants:{hidden:{opacity:0,top:-20},visible:{top:0,opacity:1},end:{}}},e.createElement("div",{className:"flex flex-row rounded overflow-hidden border shadow-md"},e.createElement("img",{className:"block h-auto w-24 lg:w-20 bg-cover",src:r,alt:n}),e.createElement("div",{className:"bg-gray-200 p-2 w-full flex flex-col lg:flex-row justify-between leading-normal"},e.createElement("div",{className:"flex justify-center flex-col mb-1"},e.createElement("p",{className:"text-black font-bold text-lg leading-tight"},i)),e.createElement("div",{className:"text-sm flex flex-row lg:flex-col items-center lg:justify-center"},b,"Â ",new Date(1e3*o).toISOString().substr(11,8)))))},m=({episodes:t,onSelect:a,playing:l,pause:r,resume:n,selectedEpisodeId:o})=>e.createElement("div",{className:"overflow-y-auto flex-grow"},t.map(((t,s)=>e.createElement(d,{index:s,key:t.id,id:t.id,imageAlt:t.title_original,imageSrc:t.thumbnail,date:t.pub_date_ms,duration:t.audio_length_sec,title:t.title_original,onSelect:a,selectedEpisodeId:o,pause:r,resume:n,playing:l}))));function u(){const[a,l]=r.exports.useState([]),[o,s]=r.exports.useState(),[d,u]=r.exports.useState(!0),[p,f]=r.exports.useState(!1),g=r.exports.createRef();return e.createElement("div",{className:"h-screen bg-gradient-to-br from-gray-600 via-teal-7 to-gray-800 p-3"},e.createElement("div",{className:"w-full h-full bg-white rounded-md flex flex-col"},e.createElement(c,{onSearch:async e=>{e.preventDefault(),f(!0),l([]);let t=e.target.elements[1].value,a=await fetch(`https://listen-api.listennotes.com/api/v2/search?q=${encodeURI(t)}`,{headers:{"X-ListenAPI-Key":"418fbba9c17046db961ca2933ed8c01c"}}),r=await a.json();r.results&&l(r.results),f(!1),s(void 0)}}),a.length>0&&e.createElement(m,{episodes:a,onSelect:e=>{let t=a.find((t=>t.id===e));s(t),u(!0)},selectedEpisodeId:null==o?void 0:o.id,pause:()=>{var e,t;u(!1),null==(t=null==(e=g.current)?void 0:e.audio.current)||t.pause()},resume:()=>{var e,t;u(!0),null==(t=null==(e=g.current)?void 0:e.audio.current)||t.play()},playing:d}),p&&e.createElement(i,null),o&&a.length>0&&e.createElement(t.div,{initial:"hidden",animate:"visible",className:"bottom-0 flex-grow-0",transition:{duration:.4},variants:{hidden:{opacity:.2,bottom:-20},visible:{opacity:1,bottom:0}}},e.createElement(n,{ref:g,autoPlay:!0,className:"rounded-md",layout:"horizontal-reverse",src:o.audio,onPlay:()=>!d&&u(!0),onPause:()=>d&&u(!1)}))))}o.render(e.createElement(u,null),document.getElementById("root"));
